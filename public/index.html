<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Education_of_ibodulla</title>
<style>
  body {
    margin:0; font-family:"Segoe UI",sans-serif; background:#f3f3f3;
  }
  /* LOGIN */
  #login-section {
    display:flex; justify-content:center; align-items:center;
    height:100vh; background:linear-gradient(135deg,#e0f7fa,#e1bee7);
  }
  .login-box {
    background:#fff; padding:30px; border-radius:15px; width:350px;
    box-shadow:0 8px 20px rgba(0,0,0,.15); text-align:center;
  }
  .login-box h2 {color:#4a148c;margin-bottom:20px;}
  .input-group{margin-bottom:15px;text-align:left;}
  .input-group label{font-size:14px;color:#333;margin-bottom:5px;display:block;}
  .input-group input{
    width:100%; padding:10px; border:2px solid #ccc; border-radius:10px;
    font-size:14px; transition:.3s;
  }
  .input-group input:focus{border-color:#4a148c;outline:none;}
  .btn{
    width:100%; padding:12px; background:#4a148c; color:#fff;
    font-size:16px; border:none; border-radius:10px; cursor:pointer;
    transition:.3s;
  }
  .btn:hover{background:#6a1b9a;}

  /* APP */
  .app{display:none;height:100vh;}
  .sidebar{
    width:220px; background:#4a148c; color:#fff; padding:20px;
    display:flex; flex-direction:column; transition:transform .3s ease;
  }
  .sidebar h3{text-align:center;margin:0 0 30px 0;}
  .menu-item{
    padding:12px 15px; border-radius:8px; cursor:pointer; margin-bottom:10px;
    transition:background .3s;
  }
  .menu-item:hover,.menu-item.active{background:rgba(255,255,255,0.2);}
  .main{flex:1; padding:20px; display:flex; flex-direction:column;}
  .topbar{display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;}
  .username{font-weight:bold;margin-right:20px;}
  .logout-btn{
    background:#e53935; color:#fff; padding:8px 16px; border:none;
    border-radius:8px; cursor:pointer; transition:.3s;
  }
  .logout-btn:hover{background:#b71c1c;}
  .content-box{
    background:#fff; border-radius:10px; padding:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
  }

  /* Reyting jadvali */
  table{width:100%; border-collapse:collapse; margin-top:10px;}
  th,td{padding:10px; text-align:left; border-bottom:1px solid #ddd;}
  tr:nth-child(1) td{background:#fff8e1;}
  tr:nth-child(2) td{background:#f1f8e9;}
  tr:nth-child(3) td{background:#e3f2fd;}

  /* Hamburger (mobile) */
  .hamburger{
    display:none; cursor:pointer; margin-right:10px;
    flex-direction:column; gap:5px;
  }
  .hamburger span{
    width:25px; height:3px; background:#4a148c; border-radius:3px;
  }
  @media (max-width:768px){
    .sidebar{
      position:fixed; left:0; top:0; bottom:0;
      transform:translateX(-100%); z-index:999;
    }
    .sidebar.show{transform:translateX(0);}
    .main{padding-top:60px;}
    .hamburger{display:flex;}
  }
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login-section">
  <div class="login-box">
    <h2>education_of_ibodulla</h2>
    <div class="input-group">
      <label for="phone">Telefon raqam</label>
      <input type="text" id="phone" placeholder="+998XX XXX XX XX" />
    </div>
    <div class="input-group">
      <label for="password">Parol</label>
      <input type="password" id="password" placeholder="Parol" />
    </div>
    <button class="btn" onclick="login()">Kirish</button>
    <p class="note" style="font-size:12px;color:#555;margin-top:10px;">
      Admin bolalar uchun parollarni alohida yaratadi.
    </p>
  </div>
</div>

<!-- APP -->
<div id="app" class="app">
  <div class="sidebar" id="sidebar">
    <h3>CoddyCamp</h3>
    <div class="menu-item active" onclick="showPage('home',this)">Asosiy menyu</div>
    <div class="menu-item" onclick="showPage('shop',this)">Education_of_ibodulla Shop</div>
    <div class="menu-item" onclick="showPage('rating',this)">Reyting</div>
  </div>

  <div class="main">
    <div class="topbar">
      <div style="display:flex;align-items:center;">
        <div class="hamburger" onclick="toggleSidebar()">
          <span></span><span></span><span></span>
        </div>
        <div class="lang-select">
          <select id="lang">
            <option>O'zbek</option>
            <option>–†—É—Å—Å–∫–∏–π</option>
            <option>English</option>
          </select>
        </div>
      </div>
      <div>
        <span id="username" class="username"></span>
        <button class="logout-btn" onclick="logout()">Chiqish</button>
      </div>
    </div>
    <div id="page-content" class="content-box">
      <h2>Asosiy menyu</h2>
      <p>Balansingiz: <strong id="coin-balance">0</strong> ü™ô coin</p>
    </div>
  </div>
</div>

<script>
/* Demo foydalanuvchilar */
const users = [
  { phone: "+998900000000", password: "12345", name: "Shaxriyor Sattarov", coins: 1625, points:41 },
  { phone: "+998911111111", password: "abcde", name: "Dilshod Karimov", coins: 7890, points:83 },
  { phone: "+998933333333", password: "qwerty", name: "Humoyun Abdumominov", coins: 39960, points:217 }
];
let currentUser = null;

/* +998 ni qotirish */
const phoneInput = document.getElementById('phone');
phoneInput.addEventListener('input',function(){
  if(!this.value.startsWith('+998')) this.value = '+998';
});
phoneInput.addEventListener('focus',function(){
  if(this.value.trim()==='') this.value = '+998';
});
phoneInput.addEventListener('keydown',function(e){
  if(this.selectionStart<=4 && (e.key==='Backspace'||e.key==='Delete')) e.preventDefault();
});

/* Login */
function login(){
  const phone = phoneInput.value.trim();
  const pass = document.getElementById('password').value.trim();
  const user = users.find(u=>u.phone===phone && u.password===pass);
  if(user){
    currentUser = user;
    localStorage.setItem('loggedUser', JSON.stringify(user));
    openApp(user);
  } else alert('Telefon yoki parol xato!');
}

/* Sessiyani tekshirish */
window.addEventListener('load',()=>{
  const saved = localStorage.getItem('loggedUser');
  if(saved){
    currentUser = JSON.parse(saved);
    openApp(currentUser);
  }
});

function openApp(user){
  document.getElementById('login-section').style.display='none';
  document.getElementById('app').style.display='flex';
  document.getElementById('username').innerText = user.name;
  document.getElementById('coin-balance').innerText = user.coins;
}

/* Logout */
function logout(){
  localStorage.removeItem('loggedUser');
  document.getElementById('app').style.display='none';
  document.getElementById('login-section').style.display='flex';
  phoneInput.value = '+998';
  document.getElementById('password').value = '';
}

/* Sahifa o‚Äòzgartirish */
function showPage(page, el){
  document.querySelectorAll('.menu-item').forEach(m=>m.classList.remove('active'));
  el.classList.add('active');
  const content = document.getElementById('page-content');

  if(page==='home'){
    content.innerHTML = `<h2>Asosiy menyu</h2>
      <p>Balansingiz: <strong id="coin-balance">${currentUser.coins}</strong> ü™ô coin</p>`;
  }
  else if(page==='shop'){
    content.innerHTML = `<h2>Education_of_ibodulla Shop</h2>
      <p>Bu yerda do'kon mahsulotlari bo'ladi.</p>
      <button class="btn">üõí Savatcha</button>`;
  }
  else if(page==='rating'){
    let rows = users.sort((a,b)=>b.coins-a.coins)
      .map((u,i)=>`
        <tr>
          <td>${i+1}</td>
          <td>${u.name}</td>
          <td>${u.coins} ü™ô</td>
          <td>${u.points} ‚ö°</td>
        </tr>`).join('');
    content.innerHTML = `<h2>Reyting</h2>
      <table>
        <tr><th>#</th><th>Ism</th><th>Coins</th><th>Points</th></tr>
        ${rows}
      </table>`;
  }
}

/* Mobil menyu */
function toggleSidebar(){
  document.getElementById('sidebar').classList.toggle('show');
}
</script>
</body>
</html>
